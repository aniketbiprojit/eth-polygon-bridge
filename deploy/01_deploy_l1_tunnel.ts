import { DeployFunction } from 'hardhat-deploy/dist/types'

const func: DeployFunction = async (hre) => {
	const { deployments, getNamedAccounts } = hre
	const { deploy, execute } = deployments
	const { deployer } = await getNamedAccounts()

	const CheckpointManagerAddress = (
		await deployments.get('CheckpointManager')
	).address

	const FxRootAddress = (await deployments.get('FxRoot')).address

	await deploy('L1Tunnel', {
		from: deployer,
		log: true,
		skipIfAlreadyDeployed: true,
		args: [CheckpointManagerAddress, FxRootAddress],
	})

	await execute(
		'L1Tunnel',
		{ from: deployer, log: true, gasLimit: 15_000_000 },
		'receiveMessage',
		'0xf9135f842b8beb30b90100d8bc20062e4d0917f6cd7448e7d40cfe075a165ab64f6faf811531abbde16b68d078f46759f483196f0a843d1c596642ebbd79775b3490f043aa2cfa2c7dbcbb5914ebfb83bfc9def494d4255f5daf44ed33df96244f505b2deccc1a4ad4acbd8b8574f90217e674400d93ec3beeebc1418592f0d43fb8be770bddd54bc9a8c16c5687af25ddb2127b3b2661a7a84591a45c3d4bb16f1b49e00afec35da65223880766b5563621ffc25189670bcbc35ee40a7ccc26b24bec8e41d9f40a4825554cad347ddc2a290a20b518cc5c3f61093c95dee8bdf13126dc3ba92512e4af7b0f832c96644932343b41d11de72187105811de7099acf806311aacc1eb39471084018da656846264989ca08b188ce02dc763e7e1759ce8928579fc4e336603056b1257c2fcc7bbc7588ccca0e71e6253bb6b4f827cb4c1b94cd6c248731763f4f0e0aba1f8bc32ed3fe67b91b907c802f907c4018339ed59b9010000000000000000000000000000040000000000000000000000000000000000000000000000040200000000000000000000008000000400000000000000200000000080000010000000000008000000840000000000000000000100000000004000000000020400000000000000000800000000000040000080000010000000000000000400000000440000000000000000000000000080000000000000000000220000000000000000000000000000000000000000000000000000080080004000000002000000000401000000000000000000000000000000100040000021000010000008000002000000000000000000000000000000000000000000100000f906b9f89c9456a582437f9880dcbd6f33d686894c7ff0af12d6f884a08c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925a0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000680f89c9456a582437f9880dcbd6f33d686894c7ff0af12d6f884a0ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3efa0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a0000000000000000000000000df2c8a1c970da7d1816223c62e074110c7b4df55a0000000000000000000000000000000000000000000000000000000000000000680f9043a94df2c8a1c970da7d1816223c62e074110c7b4df55e1a08c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036b90400000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000950726f746f6e6175740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a496e7465726f70657261626c65204d657461766572736520636861726163746572207374616e64617264000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000641747461636b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007446566656e73650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064865616c7468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000054d6167696300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000018400000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001f9013d940000000000000000000000000000000000001010f884a04dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63a00000000000000000000000000000000000000000000000000000000000001010a0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a0000000000000000000000000be188d6641e8b680743a4815dfa0f6208038960fb8a0000000000000000000000000000000000000000000000000000a4832562b71d60000000000000000000000000000000000000000000000000509604c554d324200000000000000000000000000000000000000000000129a0b2e0fa74c56947900000000000000000000000000000000000000000000000004ff1819ff21c06c00000000000000000000000000000000000000000000129a0b3857d9a282064fb90a39f90a36f871a0fe8694fbd05f33aa4e57fd59b15b643912e3e16f33e83ede69185c1dcb577f7ca0a3585e87f3d863cef02b145bcd8449dc7ab21e2c2d352baa39598c047fb71030808080808080a08d0ace15bdd33fba378a7ade0e260df7365eb951cbb2ed67af7d371b185696358080808080808080f901f180a0f698e52f2b0fcfa21c5e5912a4104e3f4a261ce8a515ca84ac4fb13a6fca4f7ea012b1e3c8a6083abf40c5dd883d8de473cba93bda8a007e0ef8121f53a2b0e367a0a0aefa1c98a394de57171157aa1a841e1121e6337d832f31801adef5703a1dbda0a5e6c41d7fe555fb9e2261021a315c026f24b1bd89a7bf90d3c32b47aff7772ba03a0cac86b53b7d816b5c00eaec157c5ef126ee52ac4ba19080ebefa37c721daba0d41e1890e78b23f4a1bbe7b9f309e221ac9c57d4081052a8f95041dd94cde8a2a030b084c0bdda4fa5fbd501f6cde98f52c43bbdd1429ba537236c8d141c766283a02d56b427a3d2b65830e01361eeffccd6e3331245665290d6934434a9e9ae208da0ee6948c88d43e4bb696dcaff8aff0f150e772575b12d7106100b31cb8d3c7b76a0bf4313bc7f21464573113cb971edcc7509b599e944c20c8d38bd7aed636dfd0aa0efa3fa10d8a20ac6f4eebfaef8651b5e29c964792ec2e4cbf807bacf31b9e57fa0b76c60583e9173e10c2b7ccbef4934e9bbac6062d2b28d195939d5b1aa42c0dba03adc1accb2aa0fbd15033a0f268da91b33fc11698a98290b8d40a4522809652fa0946f9b957b096ffc82ee1d1e56dd9f7fecfef89f734362a1dafec6cafcc5c28ba06254777e832e5e8c9e7bf43fab6c1a344efe01aecb211a1d201664df57ceee4e80f907cc20b907c802f907c4018339ed59b9010000000000000000000000000000040000000000000000000000000000000000000000000000040200000000000000000000008000000400000000000000200000000080000010000000000008000000840000000000000000000100000000004000000000020400000000000000000800000000000040000080000010000000000000000400000000440000000000000000000000000080000000000000000000220000000000000000000000000000000000000000000000000000080080004000000002000000000401000000000000000000000000000000100040000021000010000008000002000000000000000000000000000000000000000000100000f906b9f89c9456a582437f9880dcbd6f33d686894c7ff0af12d6f884a08c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925a0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000680f89c9456a582437f9880dcbd6f33d686894c7ff0af12d6f884a0ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3efa0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a0000000000000000000000000df2c8a1c970da7d1816223c62e074110c7b4df55a0000000000000000000000000000000000000000000000000000000000000000680f9043a94df2c8a1c970da7d1816223c62e074110c7b4df55e1a08c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036b90400000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000950726f746f6e6175740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a496e7465726f70657261626c65204d657461766572736520636861726163746572207374616e64617264000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000641747461636b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007446566656e73650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064865616c7468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000054d6167696300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000018400000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001f9013d940000000000000000000000000000000000001010f884a04dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63a00000000000000000000000000000000000000000000000000000000000001010a0000000000000000000000000fdf35b6caddf16ca9f9f630c43035f87b4fa2605a0000000000000000000000000be188d6641e8b680743a4815dfa0f6208038960fb8a0000000000000000000000000000000000000000000000000000a4832562b71d60000000000000000000000000000000000000000000000000509604c554d324200000000000000000000000000000000000000000000129a0b2e0fa74c56947900000000000000000000000000000000000000000000000004ff1819ff21c06c00000000000000000000000000000000000000000000129a0b3857d9a282064f82000f02'
	)
}

export default func
func.dependencies = []
func.tags = ['L1Tunnel']
